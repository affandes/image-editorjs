!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ImageEditor=t():e.ImageEditor=t()}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);n(1);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(t){var n=t.data,r=t.config,i=t.api;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.api=i,this.data={url:"",caption:"",captionPosition:"bottom",hasBorder:!1,imageSize:"medium"},this.config={placeholder:"Paste image URL here..."},this.settings=[{name:"leftAlign",icon:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M15.8 10.592v2.043h2.35v2.138H15.8v2.232h-2.25v-2.232h-2.4v-2.138h2.4v-2.28h2.25v.237h1.15-1.15zM1.9 8.455v-3.42c0-1.154.985-2.09 2.2-2.09h4.2v2.137H4.15v3.373H1.9zm0 2.137h2.25v3.325H8.3v2.138H4.1c-1.215 0-2.2-.936-2.2-2.09v-3.373zm15.05-2.137H14.7V5.082h-4.15V2.945h4.2c1.215 0 2.2.936 2.2 2.09v3.42z"/></svg>'},{name:"centerAlign",icon:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M15.8 10.592v2.043h2.35v2.138H15.8v2.232h-2.25v-2.232h-2.4v-2.138h2.4v-2.28h2.25v.237h1.15-1.15zM1.9 8.455v-3.42c0-1.154.985-2.09 2.2-2.09h4.2v2.137H4.15v3.373H1.9zm0 2.137h2.25v3.325H8.3v2.138H4.1c-1.215 0-2.2-.936-2.2-2.09v-3.373zm15.05-2.137H14.7V5.082h-4.15V2.945h4.2c1.215 0 2.2.936 2.2 2.09v3.42z"/></svg>'},{name:"rightAlign",icon:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M15.8 10.592v2.043h2.35v2.138H15.8v2.232h-2.25v-2.232h-2.4v-2.138h2.4v-2.28h2.25v.237h1.15-1.15zM1.9 8.455v-3.42c0-1.154.985-2.09 2.2-2.09h4.2v2.137H4.15v3.373H1.9zm0 2.137h2.25v3.325H8.3v2.138H4.1c-1.215 0-2.2-.936-2.2-2.09v-3.373zm15.05-2.137H14.7V5.082h-4.15V2.945h4.2c1.215 0 2.2.936 2.2 2.09v3.42z"/></svg>'},{name:"hasBorder",icon:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g transform="translate(0.000000,25.000000) scale(0.100000,-0.100000)" fill="#000000" stroke="none"><path d="M45 200 c-3 -5 -1 -10 4 -10 6 0 11 5 11 10 0 6 -2 10 -4 10 -3 0 -8 -4 -11 -10z"/><path d="M138 203 c7 -3 16 -2 19 1 4 3 -2 6 -13 5 -11 0 -14 -3 -6 -6z"/><path d="M185 200 c3 -5 11 -10 16 -10 6 0 7 5 4 10 -3 6 -11 10 -16 10 -6 0 -7 -4 -4 -10z"/><path d="M201 154 c0 -11 3 -14 6 -6 3 7 2 16 -1 19 -3 4 -6 -2 -5 -13z"/><path d="M41 104 c0 -11 3 -14 6 -6 3 7 2 16 -1 19 -3 4 -6 -2 -5 -13z"/><path d="M201 104 c0 -11 3 -14 6 -6 3 7 2 16 -1 19 -3 4 -6 -2 -5 -13z"/><path d="M40 61 c0 -5 5 -13 10 -16 6 -3 10 -2 10 4 0 5 -4 13 -10 16 -5 3 -10 2 -10 -4z"/><path d="M189 53 c-13 -16 -12 -17 4 -4 9 7 17 15 17 17 0 8 -8 3 -21 -13z"/><path d="M88 43 c7 -3 16 -2 19 1 4 3 -2 6 -13 5 -11 0 -14 -3 -6 -6z"/><path d="M138 43 c7 -3 16 -2 19 1 4 3 -2 6 -13 5 -11 0 -14 -3 -6 -6z"/></g></svg>'},{name:"captionPosition",icon:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M15.8 10.592v2.043h2.35v2.138H15.8v2.232h-2.25v-2.232h-2.4v-2.138h2.4v-2.28h2.25v.237h1.15-1.15zM1.9 8.455v-3.42c0-1.154.985-2.09 2.2-2.09h4.2v2.137H4.15v3.373H1.9zm0 2.137h2.25v3.325H8.3v2.138H4.1c-1.215 0-2.2-.936-2.2-2.09v-3.373zm15.05-2.137H14.7V5.082h-4.15V2.945h4.2c1.215 0 2.2.936 2.2 2.09v3.42z"/></svg>'}],Object.assign(this.data,n),Object.assign(this.config,r),this.wrapper=null}var t,n,i;return t=e,i=[{key:"toolbox",get:function(){return{title:"Embed Image",icon:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">\n    <path d="M3.15 13.628A7.749 7.749 0 0 0 10 17.75a7.74 7.74 0 0 0 6.305-3.242l-2.387-2.127-2.765 2.244-4.389-4.496-3.614 3.5zm-.787-2.303l4.446-4.371 4.52 4.63 2.534-2.057 3.533 2.797c.23-.734.354-1.514.354-2.324a7.75 7.75 0 1 0-15.387 1.325zM10 20C4.477 20 0 15.523 0 10S4.477 0 10 0s10 4.477 10 10-4.477 10-10 10z"/>\n</svg>'}}},{key:"CLASS",get:function(){return{wrapper:"aff-image-wrapper",figure:"aff-image-figure"}}},{key:"PATTERN",get:function(){return{urlImage:/(http[s]?:\/\/.*?.(jpg|png|gif|svg))/g}}}],(n=[{key:"render",value:function(){return console.log("Run: render()"),this._setup(),this.wrapper}},{key:"validate",value:function(e){return!!e.url.trim()}},{key:"_setup",value:function(){console.log("Run: setup()"),this._createWrapper(),this.data.url?this._createImage():this._createUrlInput()}},{key:"_createWrapper",value:function(){console.log("Run: Wrapper()"),this.wrapper=document.createElement("div"),this.wrapper.classList.add("cdx-block"),this.wrapper.classList.add(e.CLASS.wrapper)}},{key:"_clearWrapper",value:function(){this.wrapper&&(this.wrapper.innerHTML="")}},{key:"_createUrlInput",value:function(){var t=this;console.log("Run: UrlInput()");var n=document.createElement("div");n.placeholder=this.config.placeholder,n.contentEditable=!0,n.classList.add("cdx-input"),this._clearWrapper(),this.wrapper.appendChild(n),this.api.listeners.on(this.wrapper.childNodes[0],"blur",(function(n){n.target.textContent?null===n.target.textContent.match(e.PATTERN.urlImage)?console.warn("Invalid URL!"):t._createImage():console.warn("No file loaded!")}))}},{key:"_createImage",value:function(){console.log("Run: createImage()",this.data);var t=document.createElement("figure"),n=document.createElement("img"),r=document.createElement("figcaption");r.textContent=this.data.caption?this.data.caption:"Your label here...",r.contentEditable=!0,r.addEventListener("focus",(function(e){e.target.classList.add("cdx-input")})),r.addEventListener("blur",(function(e){""===e.target.textContent&&(e.target.hidden=!0),e.target.classList.remove("cdx-input")})),n.src=this.data.url?this.data.url:this.wrapper.childNodes[0].textContent,t.classList.add(e.CLASS.figure),this._clearWrapper(),"top"===this.data.captionPosition&&""!==r.textContent&&t.appendChild(r),t.appendChild(n),"bottom"===this.data.captionPosition&&""!==r.textContent&&t.appendChild(r),this.wrapper.appendChild(t)}},{key:"_createSetting",value:function(){for(var e=this,t=document.createElement("div"),n=function(n){var r=document.createElement("div");r.classList.add("cdx-settings-button"),r.innerHTML=e.settings[n].icon,r.addEventListener("click",(function(){e._toggleSetting(e.settings[n].name),r.classList.toggle("cdx-settings-button--active")})),t.appendChild(r)},r=0;r<this.settings.length;r++)n(r);return t}},{key:"_toggleSetting",value:function(e){e===this.settings[3].name&&this.wrapper.childNodes[0].childNodes[0].classList.toggle("has-border"),e===this.settings[4].name&&this.api.blocks.stretchBlock(this.api.blocks.getCurrentBlockIndex(),!!this.data.imageSize)}},{key:"save",value:function(e){return{url:"top"===this.data.captionPosition?this.wrapper.childNodes[0].childNodes[1].src:this.wrapper.childNodes[0].childNodes[0].src,caption:"top"===this.data.captionPosition?this.wrapper.childNodes[0].childNodes[0].textContent:this.wrapper.childNodes[0].childNodes[1].textContent}}}])&&r(t.prototype,n),i&&r(t,i),e}();t.default=i},function(e,t,n){var r=n(2),i=n(3);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var a={insert:"head",singleton:!1},o=(r(i,a),i.locals?i.locals:{});e.exports=o},function(e,t,n){"use strict";var r,i=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},a=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),o=[];function c(e){for(var t=-1,n=0;n<o.length;n++)if(o[n].identifier===e){t=n;break}return t}function s(e,t){for(var n={},r=[],i=0;i<e.length;i++){var a=e[i],s=t.base?a[0]+t.base:a[0],l=n[s]||0,u="".concat(s," ").concat(l);n[s]=l+1;var d=c(u),h={css:a[1],media:a[2],sourceMap:a[3]};-1!==d?(o[d].references++,o[d].updater(h)):o.push({identifier:u,updater:g(h,t),references:1}),r.push(u)}return r}function l(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var i=n.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var o=a(e.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}return t}var u,d=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function h(e,t,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=d(t,i);else{var a=document.createTextNode(i),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}function p(e,t,n){var r=n.css,i=n.media,a=n.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),a&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var f=null,v=0;function g(e,t){var n,r,i;if(t.singleton){var a=v++;n=f||(f=l(t)),r=h.bind(null,n,a,!1),i=h.bind(null,n,a,!0)}else n=l(t),r=p.bind(null,n,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=i());var n=s(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var i=c(n[r]);o[i].references--}for(var a=s(e,t),l=0;l<n.length;l++){var u=c(n[l]);0===o[u].references&&(o[u].updater(),o.splice(u,1))}n=a}}}},function(e,t,n){(t=n(4)(!1)).push([e.i,".aff-image-wrapper .has-border {\r\n    border: solid 1px black;\r\n}\r\n.aff-image-wrapper .left-aligned {\r\n    text-align: left;\r\n}\r\n.aff-image-wrapper .centered-aligned {\r\n    text-align: center;\r\n}\r\n.aff-image-wrapper .right-aligned {\r\n    text-align: right;\r\n}\r\n.aff-image-figure {\r\n    max-width: 100%;\r\n}\r\n.aff-image-figure img {\r\n    max-width: 100%;\r\n}\r\n",""]),e.exports=t},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var i=(o=r,c=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(c),"/*# ".concat(s," */")),a=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[n].concat(a).concat([i]).join("\n")}var o,c,s;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(r)for(var a=0;a<this.length;a++){var o=this[a][0];null!=o&&(i[o]=!0)}for(var c=0;c<e.length;c++){var s=[].concat(e[c]);r&&i[s[0]]||(n&&(s[2]?s[2]="".concat(n," and ").concat(s[2]):s[2]=n),t.push(s))}},t}}])}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9JbWFnZUVkaXRvci93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vSW1hZ2VFZGl0b3Ivd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vSW1hZ2VFZGl0b3IvLi9zcmMvaW1hZ2UtZWRpdG9yLmpzIiwid2VicGFjazovL0ltYWdlRWRpdG9yLy4vc3JjL3N0eWxlLmNzcz83MTYzIiwid2VicGFjazovL0ltYWdlRWRpdG9yLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIiwid2VicGFjazovL0ltYWdlRWRpdG9yLy4vc3JjL3N0eWxlLmNzcyIsIndlYnBhY2s6Ly9JbWFnZUVkaXRvci8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanMiXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwiZGVmaW5lIiwiYW1kIiwid2luZG93IiwiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIkltYWdlRWRpdG9yIiwiZGF0YSIsImNvbmZpZyIsImFwaSIsInRoaXMiLCJ1cmwiLCJjYXB0aW9uIiwiY2FwdGlvblBvc2l0aW9uIiwiaGFzQm9yZGVyIiwiaW1hZ2VTaXplIiwicGxhY2Vob2xkZXIiLCJzZXR0aW5ncyIsImljb24iLCJhc3NpZ24iLCJ3cmFwcGVyIiwidGl0bGUiLCJmaWd1cmUiLCJ1cmxJbWFnZSIsImNvbnNvbGUiLCJsb2ciLCJfc2V0dXAiLCJ0cmltIiwiX2NyZWF0ZVdyYXBwZXIiLCJfY3JlYXRlSW1hZ2UiLCJfY3JlYXRlVXJsSW5wdXQiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJDTEFTUyIsImlubmVySFRNTCIsImlucHV0IiwiY29udGVudEVkaXRhYmxlIiwiX2NsZWFyV3JhcHBlciIsImFwcGVuZENoaWxkIiwibGlzdGVuZXJzIiwib24iLCJjaGlsZE5vZGVzIiwiZXZlbnQiLCJ0YXJnZXQiLCJ0ZXh0Q29udGVudCIsIm1hdGNoIiwiUEFUVEVSTiIsIndhcm4iLCJmaWciLCJpbWciLCJjYXAiLCJhZGRFdmVudExpc3RlbmVyIiwiZXYiLCJoaWRkZW4iLCJyZW1vdmUiLCJzcmMiLCJidXR0b24iLCJfdG9nZ2xlU2V0dGluZyIsInRvZ2dsZSIsImxlbmd0aCIsImJsb2NrcyIsInN0cmV0Y2hCbG9jayIsImdldEN1cnJlbnRCbG9ja0luZGV4IiwiY29udGVudCIsImRlZmF1bHQiLCJvcHRpb25zIiwiZXhwb3J0ZWQiLCJsb2NhbHMiLCJtZW1vIiwiaXNPbGRJRSIsIkJvb2xlYW4iLCJhbGwiLCJhdG9iIiwiZ2V0VGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJxdWVyeVNlbGVjdG9yIiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwiZSIsInN0eWxlc0luRG9tIiwiZ2V0SW5kZXhCeUlkZW50aWZpZXIiLCJpZGVudGlmaWVyIiwicmVzdWx0IiwibW9kdWxlc1RvRG9tIiwibGlzdCIsImlkQ291bnRNYXAiLCJpZGVudGlmaWVycyIsIml0ZW0iLCJpZCIsImJhc2UiLCJjb3VudCIsImNvbmNhdCIsImluZGV4Iiwib2JqIiwiY3NzIiwibWVkaWEiLCJzb3VyY2VNYXAiLCJyZWZlcmVuY2VzIiwidXBkYXRlciIsInB1c2giLCJhZGRTdHlsZSIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlIiwiYXR0cmlidXRlcyIsIm5vbmNlIiwia2V5cyIsImZvckVhY2giLCJzZXRBdHRyaWJ1dGUiLCJpbnNlcnQiLCJFcnJvciIsInRleHRTdG9yZSIsInJlcGxhY2VUZXh0IiwicmVwbGFjZW1lbnQiLCJmaWx0ZXIiLCJqb2luIiwiYXBwbHlUb1NpbmdsZXRvblRhZyIsInN0eWxlU2hlZXQiLCJjc3NUZXh0IiwiY3NzTm9kZSIsImNyZWF0ZVRleHROb2RlIiwicmVtb3ZlQ2hpbGQiLCJpbnNlcnRCZWZvcmUiLCJhcHBseVRvVGFnIiwicmVtb3ZlQXR0cmlidXRlIiwiYnRvYSIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsImZpcnN0Q2hpbGQiLCJzaW5nbGV0b24iLCJzaW5nbGV0b25Db3VudGVyIiwidXBkYXRlIiwic3R5bGVJbmRleCIsInBhcmVudE5vZGUiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJuZXdPYmoiLCJsYXN0SWRlbnRpZmllcnMiLCJuZXdMaXN0IiwidG9TdHJpbmciLCJuZXdMYXN0SWRlbnRpZmllcnMiLCJfaSIsIl9pbmRleCIsInNwbGljZSIsIl9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyIsInVzZVNvdXJjZU1hcCIsIm1hcCIsImNzc01hcHBpbmciLCJzb3VyY2VNYXBwaW5nIiwiYmFzZTY0Iiwic291cmNlVVJMcyIsInNvdXJjZXMiLCJzb3VyY2UiLCJzb3VyY2VSb290IiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsIm1lZGlhUXVlcnkiLCJkZWR1cGUiLCJhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUEyQ0EsRUFBTUMsR0FDMUIsaUJBQVpDLFNBQTBDLGlCQUFYQyxPQUN4Q0EsT0FBT0QsUUFBVUQsSUFDUSxtQkFBWEcsUUFBeUJBLE9BQU9DLElBQzlDRCxPQUFPLEdBQUlILEdBQ2UsaUJBQVpDLFFBQ2RB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QUFPdkYsRUFBTSxRQWRyQmtKLEVBQWFILEVBQVdJLFFBQVFMLEtBQUksU0FBVU0sR0FDaEQsTUFBTyxpQkFBaUI3RCxPQUFPd0QsRUFBV00sWUFBYyxJQUFJOUQsT0FBTzZELEVBQVEsVUFFN0UsTUFBTyxDQUFDMUYsR0FBUzZCLE9BQU8yRCxHQUFZM0QsT0FBTyxDQUFDeUQsSUFBZ0JsQyxLQUFLLE1BT3JFLElBQW1CbEIsRUFFYnFELEVBQ0FqSixFQVBKLE1BQU8sQ0FBQzBELEdBQVNvRCxLQUFLLE1BdkVKd0MsQ0FBdUJuRSxFQUFNMEQsR0FFM0MsT0FBSTFELEVBQUssR0FDQSxVQUFVSSxPQUFPSixFQUFLLEdBQUksTUFBTUksT0FBTzdCLEVBQVMsS0FHbERBLEtBQ05vRCxLQUFLLEtBS1Y5QixFQUFLakgsRUFBSSxTQUFVRSxFQUFTc0wsRUFBWUMsR0FDZixpQkFBWnZMLElBRVRBLEVBQVUsQ0FBQyxDQUFDLEtBQU1BLEVBQVMsTUFHN0IsSUFBSXdMLEVBQXlCLEdBRTdCLEdBQUlELEVBQ0YsSUFBSyxJQUFJekwsRUFBSSxFQUFHQSxFQUFJb0MsS0FBS21ELE9BQVF2RixJQUFLLENBRXBDLElBQUlxSCxFQUFLakYsS0FBS3BDLEdBQUcsR0FFUCxNQUFOcUgsSUFDRnFFLEVBQXVCckUsSUFBTSxHQUtuQyxJQUFLLElBQUlxRCxFQUFLLEVBQUdBLEVBQUt4SyxFQUFRcUYsT0FBUW1GLElBQU0sQ0FDMUMsSUFBSXRELEVBQU8sR0FBR0ksT0FBT3RILEVBQVF3SyxJQUV6QmUsR0FBVUMsRUFBdUJ0RSxFQUFLLE1BS3RDb0UsSUFDR3BFLEVBQUssR0FHUkEsRUFBSyxHQUFLLEdBQUdJLE9BQU9nRSxFQUFZLFNBQVNoRSxPQUFPSixFQUFLLElBRnJEQSxFQUFLLEdBQUtvRSxHQU1kdkUsRUFBS2UsS0FBS1osTUFJUEgiLCJmaWxlIjoiaW1hZ2UtZWRpdG9yLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIkltYWdlRWRpdG9yXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIkltYWdlRWRpdG9yXCJdID0gZmFjdG9yeSgpO1xufSkod2luZG93LCBmdW5jdGlvbigpIHtcbnJldHVybiAiLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCJpbXBvcnQgXCIuL3N0eWxlLmNzc1wiXHJcblxyXG5cclxuLyoqXHJcbiAqIEVkaXRvckpzIFBsdWdpbiBmb3IgSW1hZ2UgRW1iZWRkaW5nXHJcbiAqIEZvciBibG9jayBvbmx5XHJcbiAqXHJcbiAqIEB0eXBlZGVmIHtvYmplY3R9IEltYWdlRGF0YVxyXG4gKiBAZGVzY3JpcHRpb24gRGF0YSBzdHJ1Y3R1cmUgZm9yIGlucHV0IGFuZCBvdXRwdXQuXHJcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSB1cmwgLSBVcmwgb2YgaW1hZ2VcclxuICogQHByb3BlcnR5IHtzdHJpbmd9IGNhcHRpb24gLSBDYXB0aW9uIGZvciBpbWFnZVxyXG4gKiBAcHJvcGVydHkge3N0cmluZ30gY2FwdGlvblBvc2l0aW9uIC0gUG9zaXRpb24gZm9yIGNhcHRpb24gKHRvcCwgYm90dG9tKVxyXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IGhhc0JvcmRlciAtIElzIGltYWdlIGhhcyBib3JkZXI/XHJcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBpbWFnZVNpemUgLSBJbWFnZSBzaXplIHtzbWFsbCwgbWVkaXVtLCBsYXJnZSwgZnVsbH1cclxuICpcclxuICovXHJcbmNsYXNzIEltYWdlRWRpdG9yIHtcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIG5ldyBwbHVnaW4gYW5kIGluaXRpYXRlIGRhdGFcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge0ltYWdlRGF0YX0gICBkYXRhICAgIC0gc2F2ZWQgZGF0YSBpbiBKU09OXHJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gICAgICBjb25maWcgIC0gdXNlciBjb25maWcgaW5cclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSAgICAgIGFwaSAgICAgLSBFZGl0b3JKcyBBUElcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3Ioe2RhdGEsIGNvbmZpZywgYXBpfSkge1xyXG4gICAgICAgIC8vIFNldHVwIGRlZmF1bHRcclxuICAgICAgICB0aGlzLmFwaSA9IGFwaTtcclxuICAgICAgICB0aGlzLmRhdGEgPSB7XHJcbiAgICAgICAgICAgIHVybDogJycsXHJcbiAgICAgICAgICAgIGNhcHRpb246ICcnLFxyXG4gICAgICAgICAgICBjYXB0aW9uUG9zaXRpb246ICdib3R0b20nLFxyXG4gICAgICAgICAgICBoYXNCb3JkZXI6IGZhbHNlLFxyXG4gICAgICAgICAgICBpbWFnZVNpemU6ICdtZWRpdW0nXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmNvbmZpZyA9IHtcclxuICAgICAgICAgICAgcGxhY2Vob2xkZXI6ICdQYXN0ZSBpbWFnZSBVUkwgaGVyZS4uLidcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6ICdsZWZ0QWxpZ24nLFxyXG4gICAgICAgICAgICAgICAgaWNvbjogJzxzdmcgd2lkdGg9XCIyMFwiIGhlaWdodD1cIjIwXCIgdmlld0JveD1cIjAgMCAyMCAyMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTE1LjggMTAuNTkydjIuMDQzaDIuMzV2Mi4xMzhIMTUuOHYyLjIzMmgtMi4yNXYtMi4yMzJoLTIuNHYtMi4xMzhoMi40di0yLjI4aDIuMjV2LjIzN2gxLjE1LTEuMTV6TTEuOSA4LjQ1NXYtMy40MmMwLTEuMTU0Ljk4NS0yLjA5IDIuMi0yLjA5aDQuMnYyLjEzN0g0LjE1djMuMzczSDEuOXptMCAyLjEzN2gyLjI1djMuMzI1SDguM3YyLjEzOEg0LjFjLTEuMjE1IDAtMi4yLS45MzYtMi4yLTIuMDl2LTMuMzczem0xNS4wNS0yLjEzN0gxNC43VjUuMDgyaC00LjE1VjIuOTQ1aDQuMmMxLjIxNSAwIDIuMi45MzYgMi4yIDIuMDl2My40MnpcIi8+PC9zdmc+J1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiAnY2VudGVyQWxpZ24nLFxyXG4gICAgICAgICAgICAgICAgaWNvbjogJzxzdmcgd2lkdGg9XCIyMFwiIGhlaWdodD1cIjIwXCIgdmlld0JveD1cIjAgMCAyMCAyMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTE1LjggMTAuNTkydjIuMDQzaDIuMzV2Mi4xMzhIMTUuOHYyLjIzMmgtMi4yNXYtMi4yMzJoLTIuNHYtMi4xMzhoMi40di0yLjI4aDIuMjV2LjIzN2gxLjE1LTEuMTV6TTEuOSA4LjQ1NXYtMy40MmMwLTEuMTU0Ljk4NS0yLjA5IDIuMi0yLjA5aDQuMnYyLjEzN0g0LjE1djMuMzczSDEuOXptMCAyLjEzN2gyLjI1djMuMzI1SDguM3YyLjEzOEg0LjFjLTEuMjE1IDAtMi4yLS45MzYtMi4yLTIuMDl2LTMuMzczem0xNS4wNS0yLjEzN0gxNC43VjUuMDgyaC00LjE1VjIuOTQ1aDQuMmMxLjIxNSAwIDIuMi45MzYgMi4yIDIuMDl2My40MnpcIi8+PC9zdmc+J1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiAncmlnaHRBbGlnbicsXHJcbiAgICAgICAgICAgICAgICBpY29uOiAnPHN2ZyB3aWR0aD1cIjIwXCIgaGVpZ2h0PVwiMjBcIiB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNMTUuOCAxMC41OTJ2Mi4wNDNoMi4zNXYyLjEzOEgxNS44djIuMjMyaC0yLjI1di0yLjIzMmgtMi40di0yLjEzOGgyLjR2LTIuMjhoMi4yNXYuMjM3aDEuMTUtMS4xNXpNMS45IDguNDU1di0zLjQyYzAtMS4xNTQuOTg1LTIuMDkgMi4yLTIuMDloNC4ydjIuMTM3SDQuMTV2My4zNzNIMS45em0wIDIuMTM3aDIuMjV2My4zMjVIOC4zdjIuMTM4SDQuMWMtMS4yMTUgMC0yLjItLjkzNi0yLjItMi4wOXYtMy4zNzN6bTE1LjA1LTIuMTM3SDE0LjdWNS4wODJoLTQuMTVWMi45NDVoNC4yYzEuMjE1IDAgMi4yLjkzNiAyLjIgMi4wOXYzLjQyelwiLz48L3N2Zz4nXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6ICdoYXNCb3JkZXInLFxyXG4gICAgICAgICAgICAgICAgaWNvbjogJzxzdmcgd2lkdGg9XCIyMFwiIGhlaWdodD1cIjIwXCIgdmlld0JveD1cIjAgMCAyMCAyMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48ZyB0cmFuc2Zvcm09XCJ0cmFuc2xhdGUoMC4wMDAwMDAsMjUuMDAwMDAwKSBzY2FsZSgwLjEwMDAwMCwtMC4xMDAwMDApXCIgZmlsbD1cIiMwMDAwMDBcIiBzdHJva2U9XCJub25lXCI+PHBhdGggZD1cIk00NSAyMDAgYy0zIC01IC0xIC0xMCA0IC0xMCA2IDAgMTEgNSAxMSAxMCAwIDYgLTIgMTAgLTQgMTAgLTMgMCAtOCAtNCAtMTEgLTEwelwiLz48cGF0aCBkPVwiTTEzOCAyMDMgYzcgLTMgMTYgLTIgMTkgMSA0IDMgLTIgNiAtMTMgNSAtMTEgMCAtMTQgLTMgLTYgLTZ6XCIvPjxwYXRoIGQ9XCJNMTg1IDIwMCBjMyAtNSAxMSAtMTAgMTYgLTEwIDYgMCA3IDUgNCAxMCAtMyA2IC0xMSAxMCAtMTYgMTAgLTYgMCAtNyAtNCAtNCAtMTB6XCIvPjxwYXRoIGQ9XCJNMjAxIDE1NCBjMCAtMTEgMyAtMTQgNiAtNiAzIDcgMiAxNiAtMSAxOSAtMyA0IC02IC0yIC01IC0xM3pcIi8+PHBhdGggZD1cIk00MSAxMDQgYzAgLTExIDMgLTE0IDYgLTYgMyA3IDIgMTYgLTEgMTkgLTMgNCAtNiAtMiAtNSAtMTN6XCIvPjxwYXRoIGQ9XCJNMjAxIDEwNCBjMCAtMTEgMyAtMTQgNiAtNiAzIDcgMiAxNiAtMSAxOSAtMyA0IC02IC0yIC01IC0xM3pcIi8+PHBhdGggZD1cIk00MCA2MSBjMCAtNSA1IC0xMyAxMCAtMTYgNiAtMyAxMCAtMiAxMCA0IDAgNSAtNCAxMyAtMTAgMTYgLTUgMyAtMTAgMiAtMTAgLTR6XCIvPjxwYXRoIGQ9XCJNMTg5IDUzIGMtMTMgLTE2IC0xMiAtMTcgNCAtNCA5IDcgMTcgMTUgMTcgMTcgMCA4IC04IDMgLTIxIC0xM3pcIi8+PHBhdGggZD1cIk04OCA0MyBjNyAtMyAxNiAtMiAxOSAxIDQgMyAtMiA2IC0xMyA1IC0xMSAwIC0xNCAtMyAtNiAtNnpcIi8+PHBhdGggZD1cIk0xMzggNDMgYzcgLTMgMTYgLTIgMTkgMSA0IDMgLTIgNiAtMTMgNSAtMTEgMCAtMTQgLTMgLTYgLTZ6XCIvPjwvZz48L3N2Zz4nXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6ICdjYXB0aW9uUG9zaXRpb24nLFxyXG4gICAgICAgICAgICAgICAgaWNvbjogJzxzdmcgd2lkdGg9XCIyMFwiIGhlaWdodD1cIjIwXCIgdmlld0JveD1cIjAgMCAyMCAyMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTE1LjggMTAuNTkydjIuMDQzaDIuMzV2Mi4xMzhIMTUuOHYyLjIzMmgtMi4yNXYtMi4yMzJoLTIuNHYtMi4xMzhoMi40di0yLjI4aDIuMjV2LjIzN2gxLjE1LTEuMTV6TTEuOSA4LjQ1NXYtMy40MmMwLTEuMTU0Ljk4NS0yLjA5IDIuMi0yLjA5aDQuMnYyLjEzN0g0LjE1djMuMzczSDEuOXptMCAyLjEzN2gyLjI1djMuMzI1SDguM3YyLjEzOEg0LjFjLTEuMjE1IDAtMi4yLS45MzYtMi4yLTIuMDl2LTMuMzczem0xNS4wNS0yLjEzN0gxNC43VjUuMDgyaC00LjE1VjIuOTQ1aDQuMmMxLjIxNSAwIDIuMi45MzYgMi4yIDIuMDl2My40MnpcIi8+PC9zdmc+J1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIF07XHJcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLmRhdGEsIGRhdGEpO1xyXG4gICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5jb25maWcsIGNvbmZpZyk7XHJcblxyXG4gICAgICAgIC8vIFNldCBlbGVtZW50XHJcbiAgICAgICAgdGhpcy53cmFwcGVyID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1J1bjogcmVuZGVyKCknKTtcclxuICAgICAgICB0aGlzLl9zZXR1cCgpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLndyYXBwZXI7XHJcbiAgICB9XHJcblxyXG4gICAgLypyZW5kZXJTZXR0aW5ncygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fY3JlYXRlU2V0dGluZygpO1xyXG4gICAgfSovXHJcblxyXG4gICAgdmFsaWRhdGUoZGF0YSkge1xyXG4gICAgICAgIGlmKCAhZGF0YS51cmwudHJpbSgpICkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIF9zZXR1cCgpIHtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coJ1J1bjogc2V0dXAoKScpO1xyXG4gICAgICAgIC8vIFNldHVwIHdyYXBwZXJcclxuICAgICAgICB0aGlzLl9jcmVhdGVXcmFwcGVyKCk7XHJcblxyXG4gICAgICAgIGlmKCAhIXRoaXMuZGF0YS51cmwgKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NyZWF0ZUltYWdlKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fY3JlYXRlVXJsSW5wdXQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgX2NyZWF0ZVdyYXBwZXIoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1J1bjogV3JhcHBlcigpJyk7XHJcbiAgICAgICAgdGhpcy53cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgdGhpcy53cmFwcGVyLmNsYXNzTGlzdC5hZGQoJ2NkeC1ibG9jaycpO1xyXG4gICAgICAgIHRoaXMud3JhcHBlci5jbGFzc0xpc3QuYWRkKEltYWdlRWRpdG9yLkNMQVNTLndyYXBwZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIF9jbGVhcldyYXBwZXIoKSB7XHJcbiAgICAgICAgaWYoIHRoaXMud3JhcHBlciApIHtcclxuICAgICAgICAgICAgdGhpcy53cmFwcGVyLmlubmVySFRNTCA9ICcnO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBfY3JlYXRlVXJsSW5wdXQoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1J1bjogVXJsSW5wdXQoKScpO1xyXG4gICAgICAgIGxldCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIGlucHV0LnBsYWNlaG9sZGVyID0gdGhpcy5jb25maWcucGxhY2Vob2xkZXI7XHJcbiAgICAgICAgaW5wdXQuY29udGVudEVkaXRhYmxlID0gdHJ1ZTtcclxuICAgICAgICBpbnB1dC5jbGFzc0xpc3QuYWRkKCdjZHgtaW5wdXQnKTtcclxuXHJcbiAgICAgICAgdGhpcy5fY2xlYXJXcmFwcGVyKCk7XHJcbiAgICAgICAgdGhpcy53cmFwcGVyLmFwcGVuZENoaWxkKGlucHV0KTtcclxuXHJcbiAgICAgICAgdGhpcy5hcGkubGlzdGVuZXJzLm9uKHRoaXMud3JhcHBlci5jaGlsZE5vZGVzWzBdLCAnYmx1cicsIChldmVudCA9PiB7XHJcbiAgICAgICAgICAgIGlmKCAhZXZlbnQudGFyZ2V0LnRleHRDb250ZW50ICkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdObyBmaWxlIGxvYWRlZCEnKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmKCBldmVudC50YXJnZXQudGV4dENvbnRlbnQubWF0Y2goSW1hZ2VFZGl0b3IuUEFUVEVSTi51cmxJbWFnZSkgPT09IG51bGwgKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0ludmFsaWQgVVJMIScpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fY3JlYXRlSW1hZ2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pKTtcclxuICAgIH1cclxuXHJcbiAgICBfY3JlYXRlSW1hZ2UoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1J1bjogY3JlYXRlSW1hZ2UoKScsIHRoaXMuZGF0YSk7XHJcbiAgICAgICAgbGV0IGZpZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ZpZ3VyZScpO1xyXG4gICAgICAgIGxldCBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcclxuICAgICAgICBsZXQgY2FwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZmlnY2FwdGlvbicpO1xyXG5cclxuICAgICAgICBjYXAudGV4dENvbnRlbnQgPSAhIXRoaXMuZGF0YS5jYXB0aW9uID8gdGhpcy5kYXRhLmNhcHRpb24gOiAnWW91ciBsYWJlbCBoZXJlLi4uJztcclxuICAgICAgICBjYXAuY29udGVudEVkaXRhYmxlID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgY2FwLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgKGV2ID0+IHtcclxuICAgICAgICAgICAgZXYudGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2NkeC1pbnB1dCcpO1xyXG4gICAgICAgIH0pKTtcclxuXHJcbiAgICAgICAgY2FwLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoZXYgPT4ge1xyXG4gICAgICAgICAgICBpZiggZXYudGFyZ2V0LnRleHRDb250ZW50ID09PSAnJyApIHtcclxuICAgICAgICAgICAgICAgIGV2LnRhcmdldC5oaWRkZW4gPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGV2LnRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdjZHgtaW5wdXQnKTtcclxuICAgICAgICB9KSk7XHJcblxyXG4gICAgICAgIGltZy5zcmMgPSAhIXRoaXMuZGF0YS51cmwgPyB0aGlzLmRhdGEudXJsIDogdGhpcy53cmFwcGVyLmNoaWxkTm9kZXNbMF0udGV4dENvbnRlbnQ7XHJcbiAgICAgICAgZmlnLmNsYXNzTGlzdC5hZGQoSW1hZ2VFZGl0b3IuQ0xBU1MuZmlndXJlKTtcclxuXHJcbiAgICAgICAgdGhpcy5fY2xlYXJXcmFwcGVyKCk7XHJcblxyXG4gICAgICAgIGlmKCB0aGlzLmRhdGEuY2FwdGlvblBvc2l0aW9uID09PSAndG9wJyAmJiBjYXAudGV4dENvbnRlbnQgIT09ICcnICkge1xyXG4gICAgICAgICAgICBmaWcuYXBwZW5kQ2hpbGQoY2FwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmlnLmFwcGVuZENoaWxkKGltZyk7XHJcbiAgICAgICAgaWYoIHRoaXMuZGF0YS5jYXB0aW9uUG9zaXRpb24gPT09ICdib3R0b20nICYmIGNhcC50ZXh0Q29udGVudCAhPT0gJycgKSB7XHJcbiAgICAgICAgICAgIGZpZy5hcHBlbmRDaGlsZChjYXApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy53cmFwcGVyLmFwcGVuZENoaWxkKGZpZyk7XHJcbiAgICB9XHJcblxyXG4gICAgX2NyZWF0ZVNldHRpbmcoKSB7XHJcbiAgICAgICAgbGV0IHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNldHRpbmdzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2NkeC1zZXR0aW5ncy1idXR0b24nKTtcclxuICAgICAgICAgICAgYnV0dG9uLmlubmVySFRNTCA9IHRoaXMuc2V0dGluZ3NbaV0uaWNvbjtcclxuXHJcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3RvZ2dsZVNldHRpbmcodGhpcy5zZXR0aW5nc1tpXS5uYW1lKTtcclxuICAgICAgICAgICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKCdjZHgtc2V0dGluZ3MtYnV0dG9uLS1hY3RpdmUnKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB3cmFwcGVyLmFwcGVuZENoaWxkKGJ1dHRvbik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gd3JhcHBlcjtcclxuICAgIH1cclxuXHJcbiAgICBfdG9nZ2xlU2V0dGluZyhuYW1lKSB7XHJcbiAgICAgICAgaWYoIG5hbWUgPT09IHRoaXMuc2V0dGluZ3NbM10ubmFtZSApIHtcclxuICAgICAgICAgICAgdGhpcy53cmFwcGVyLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1swXS5jbGFzc0xpc3QudG9nZ2xlKCdoYXMtYm9yZGVyJylcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoIG5hbWUgPT09IHRoaXMuc2V0dGluZ3NbNF0ubmFtZSApIHtcclxuICAgICAgICAgICAgdGhpcy5hcGkuYmxvY2tzLnN0cmV0Y2hCbG9jayh0aGlzLmFwaS5ibG9ja3MuZ2V0Q3VycmVudEJsb2NrSW5kZXgoKSwgISF0aGlzLmRhdGEuaW1hZ2VTaXplKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzYXZlKGNvbnRlbnQpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB1cmw6IHRoaXMuZGF0YS5jYXB0aW9uUG9zaXRpb24gPT09ICd0b3AnID8gdGhpcy53cmFwcGVyLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1sxXS5zcmMgOiB0aGlzLndyYXBwZXIuY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzWzBdLnNyYyxcclxuICAgICAgICAgICAgY2FwdGlvbjogdGhpcy5kYXRhLmNhcHRpb25Qb3NpdGlvbiA9PT0gJ3RvcCcgPyB0aGlzLndyYXBwZXIuY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzWzBdLnRleHRDb250ZW50IDogdGhpcy53cmFwcGVyLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1sxXS50ZXh0Q29udGVudCxcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldCB0b29sYm94KCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHRpdGxlOiAnRW1iZWQgSW1hZ2UnLFxyXG4gICAgICAgICAgICBpY29uOiAnPHN2ZyB3aWR0aD1cIjIwXCIgaGVpZ2h0PVwiMjBcIiB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPlxcbicgK1xyXG4gICAgICAgICAgICAgICAgJyAgICA8cGF0aCBkPVwiTTMuMTUgMTMuNjI4QTcuNzQ5IDcuNzQ5IDAgMCAwIDEwIDE3Ljc1YTcuNzQgNy43NCAwIDAgMCA2LjMwNS0zLjI0MmwtMi4zODctMi4xMjctMi43NjUgMi4yNDQtNC4zODktNC40OTYtMy42MTQgMy41em0tLjc4Ny0yLjMwM2w0LjQ0Ni00LjM3MSA0LjUyIDQuNjMgMi41MzQtMi4wNTcgMy41MzMgMi43OTdjLjIzLS43MzQuMzU0LTEuNTE0LjM1NC0yLjMyNGE3Ljc1IDcuNzUgMCAxIDAtMTUuMzg3IDEuMzI1ek0xMCAyMEM0LjQ3NyAyMCAwIDE1LjUyMyAwIDEwUzQuNDc3IDAgMTAgMHMxMCA0LjQ3NyAxMCAxMC00LjQ3NyAxMC0xMCAxMHpcIi8+XFxuJyArXHJcbiAgICAgICAgICAgICAgICAnPC9zdmc+J1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldCBDTEFTUygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB3cmFwcGVyOiAnYWZmLWltYWdlLXdyYXBwZXInLFxyXG4gICAgICAgICAgICBmaWd1cmU6ICdhZmYtaW1hZ2UtZmlndXJlJyxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXQgUEFUVEVSTigpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB1cmxJbWFnZTogLyhodHRwW3NdPzpcXC9cXC8uKj8uKGpwZ3xwbmd8Z2lmfHN2ZykpL2dcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEltYWdlRWRpdG9yOyIsInZhciBhcGkgPSByZXF1aXJlKFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiKTtcbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZS5jc3NcIik7XG5cbiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50Ll9fZXNNb2R1bGUgPyBjb250ZW50LmRlZmF1bHQgOiBjb250ZW50O1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbiAgICAgICAgICAgIH1cblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5pbnNlcnQgPSBcImhlYWRcIjtcbm9wdGlvbnMuc2luZ2xldG9uID0gZmFsc2U7XG5cbnZhciB1cGRhdGUgPSBhcGkoY29udGVudCwgb3B0aW9ucyk7XG5cbnZhciBleHBvcnRlZCA9IGNvbnRlbnQubG9jYWxzID8gY29udGVudC5sb2NhbHMgOiB7fTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0ZWQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBpc09sZElFID0gZnVuY3Rpb24gaXNPbGRJRSgpIHtcbiAgdmFyIG1lbW87XG4gIHJldHVybiBmdW5jdGlvbiBtZW1vcml6ZSgpIHtcbiAgICBpZiAodHlwZW9mIG1lbW8gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBUZXN0IGZvciBJRSA8PSA5IGFzIHByb3Bvc2VkIGJ5IEJyb3dzZXJoYWNrc1xuICAgICAgLy8gQHNlZSBodHRwOi8vYnJvd3NlcmhhY2tzLmNvbS8jaGFjay1lNzFkODY5MmY2NTMzNDE3M2ZlZTcxNWMyMjJjYjgwNVxuICAgICAgLy8gVGVzdHMgZm9yIGV4aXN0ZW5jZSBvZiBzdGFuZGFyZCBnbG9iYWxzIGlzIHRvIGFsbG93IHN0eWxlLWxvYWRlclxuICAgICAgLy8gdG8gb3BlcmF0ZSBjb3JyZWN0bHkgaW50byBub24tc3RhbmRhcmQgZW52aXJvbm1lbnRzXG4gICAgICAvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyL2lzc3Vlcy8xNzdcbiAgICAgIG1lbW8gPSBCb29sZWFuKHdpbmRvdyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5hdG9iKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVtbztcbiAgfTtcbn0oKTtcblxudmFyIGdldFRhcmdldCA9IGZ1bmN0aW9uIGdldFRhcmdldCgpIHtcbiAgdmFyIG1lbW8gPSB7fTtcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKHRhcmdldCkge1xuICAgIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpOyAvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXG4gICAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuICAgICAgICAgIHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICAgIHN0eWxlVGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVtb1t0YXJnZXRdO1xuICB9O1xufSgpO1xuXG52YXIgc3R5bGVzSW5Eb20gPSBbXTtcblxuZnVuY3Rpb24gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcikge1xuICB2YXIgcmVzdWx0ID0gLTE7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRvbS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHlsZXNJbkRvbVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICByZXN1bHQgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpIHtcbiAgdmFyIGlkQ291bnRNYXAgPSB7fTtcbiAgdmFyIGlkZW50aWZpZXJzID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgIHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuICAgIHZhciBjb3VudCA9IGlkQ291bnRNYXBbaWRdIHx8IDA7XG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XG4gICAgaWRDb3VudE1hcFtpZF0gPSBjb3VudCArIDE7XG4gICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNzczogaXRlbVsxXSxcbiAgICAgIG1lZGlhOiBpdGVtWzJdLFxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdXG4gICAgfTtcblxuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS5yZWZlcmVuY2VzKys7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0udXBkYXRlcihvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZXNJbkRvbS5wdXNoKHtcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcbiAgICAgICAgdXBkYXRlcjogYWRkU3R5bGUob2JqLCBvcHRpb25zKSxcbiAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWRlbnRpZmllcnMucHVzaChpZGVudGlmaWVyKTtcbiAgfVxuXG4gIHJldHVybiBpZGVudGlmaWVycztcbn1cblxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgdmFyIGF0dHJpYnV0ZXMgPSBvcHRpb25zLmF0dHJpYnV0ZXMgfHwge307XG5cbiAgaWYgKHR5cGVvZiBhdHRyaWJ1dGVzLm5vbmNlID09PSAndW5kZWZpbmVkJykge1xuICAgIHZhciBub25jZSA9IHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyAhPT0gJ3VuZGVmaW5lZCcgPyBfX3dlYnBhY2tfbm9uY2VfXyA6IG51bGw7XG5cbiAgICBpZiAobm9uY2UpIHtcbiAgICAgIGF0dHJpYnV0ZXMubm9uY2UgPSBub25jZTtcbiAgICB9XG4gIH1cblxuICBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyaWJ1dGVzW2tleV0pO1xuICB9KTtcblxuICBpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgb3B0aW9ucy5pbnNlcnQoc3R5bGUpO1xuICB9IGVsc2Uge1xuICAgIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQob3B0aW9ucy5pbnNlcnQgfHwgJ2hlYWQnKTtcblxuICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuICAgIH1cblxuICAgIHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gIH1cblxuICByZXR1cm4gc3R5bGU7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSkge1xuICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWZcbiAgaWYgKHN0eWxlLnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5cbnZhciByZXBsYWNlVGV4dCA9IGZ1bmN0aW9uIHJlcGxhY2VUZXh0KCkge1xuICB2YXIgdGV4dFN0b3JlID0gW107XG4gIHJldHVybiBmdW5jdGlvbiByZXBsYWNlKGluZGV4LCByZXBsYWNlbWVudCkge1xuICAgIHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcbiAgICByZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcbiAgfTtcbn0oKTtcblxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyhzdHlsZSwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XG4gIHZhciBjc3MgPSByZW1vdmUgPyAnJyA6IG9iai5tZWRpYSA/IFwiQG1lZGlhIFwiLmNvbmNhdChvYmoubWVkaWEsIFwiIHtcIikuY29uY2F0KG9iai5jc3MsIFwifVwiKSA6IG9iai5jc3M7IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cbiAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG4gICAgdmFyIGNoaWxkTm9kZXMgPSBzdHlsZS5jaGlsZE5vZGVzO1xuXG4gICAgaWYgKGNoaWxkTm9kZXNbaW5kZXhdKSB7XG4gICAgICBzdHlsZS5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgfVxuXG4gICAgaWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG4gICAgICBzdHlsZS5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZS5hcHBlbmRDaGlsZChjc3NOb2RlKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gYXBwbHlUb1RhZyhzdHlsZSwgb3B0aW9ucywgb2JqKSB7XG4gIHZhciBjc3MgPSBvYmouY3NzO1xuICB2YXIgbWVkaWEgPSBvYmoubWVkaWE7XG4gIHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuXG4gIGlmIChtZWRpYSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZSgnbWVkaWEnLCBtZWRpYSk7XG4gIH0gZWxzZSB7XG4gICAgc3R5bGUucmVtb3ZlQXR0cmlidXRlKCdtZWRpYScpO1xuICB9XG5cbiAgaWYgKHNvdXJjZU1hcCAmJiBidG9hKSB7XG4gICAgY3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIi5jb25jYXQoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSwgXCIgKi9cIik7XG4gIH0gLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZS5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZS5yZW1vdmVDaGlsZChzdHlsZS5maXJzdENoaWxkKTtcbiAgICB9XG5cbiAgICBzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgfVxufVxuXG52YXIgc2luZ2xldG9uID0gbnVsbDtcbnZhciBzaW5nbGV0b25Db3VudGVyID0gMDtcblxuZnVuY3Rpb24gYWRkU3R5bGUob2JqLCBvcHRpb25zKSB7XG4gIHZhciBzdHlsZTtcbiAgdmFyIHVwZGF0ZTtcbiAgdmFyIHJlbW92ZTtcblxuICBpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcbiAgICB2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcbiAgICBzdHlsZSA9IHNpbmdsZXRvbiB8fCAoc2luZ2xldG9uID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIGZhbHNlKTtcbiAgICByZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICAgIHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZSwgb3B0aW9ucyk7XG5cbiAgICByZW1vdmUgPSBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuICAgIH07XG4gIH1cblxuICB1cGRhdGUob2JqKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB1cGRhdGUob2JqID0gbmV3T2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVtb3ZlKCk7XG4gICAgfVxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChsaXN0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OyAvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cbiAgLy8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxuXG4gIGlmICghb3B0aW9ucy5zaW5nbGV0b24gJiYgdHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uICE9PSAnYm9vbGVhbicpIHtcbiAgICBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcbiAgfVxuXG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcblxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobmV3TGlzdCkgIT09ICdbb2JqZWN0IEFycmF5XScpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS5yZWZlcmVuY2VzLS07XG4gICAgfVxuXG4gICAgdmFyIG5ld0xhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShuZXdMaXN0LCBvcHRpb25zKTtcblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgX2lkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbX2ldO1xuXG4gICAgICB2YXIgX2luZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoX2lkZW50aWZpZXIpO1xuXG4gICAgICBpZiAoc3R5bGVzSW5Eb21bX2luZGV4XS5yZWZlcmVuY2VzID09PSAwKSB7XG4gICAgICAgIHN0eWxlc0luRG9tW19pbmRleF0udXBkYXRlcigpO1xuXG4gICAgICAgIHN0eWxlc0luRG9tLnNwbGljZShfaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgfTtcbn07IiwiLy8gSW1wb3J0c1xudmFyIF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyA9IHJlcXVpcmUoXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCIpO1xuZXhwb3J0cyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhmYWxzZSk7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5hZmYtaW1hZ2Utd3JhcHBlciAuaGFzLWJvcmRlciB7XFxyXFxuICAgIGJvcmRlcjogc29saWQgMXB4IGJsYWNrO1xcclxcbn1cXHJcXG4uYWZmLWltYWdlLXdyYXBwZXIgLmxlZnQtYWxpZ25lZCB7XFxyXFxuICAgIHRleHQtYWxpZ246IGxlZnQ7XFxyXFxufVxcclxcbi5hZmYtaW1hZ2Utd3JhcHBlciAuY2VudGVyZWQtYWxpZ25lZCB7XFxyXFxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXHJcXG59XFxyXFxuLmFmZi1pbWFnZS13cmFwcGVyIC5yaWdodC1hbGlnbmVkIHtcXHJcXG4gICAgdGV4dC1hbGlnbjogcmlnaHQ7XFxyXFxufVxcclxcbi5hZmYtaW1hZ2UtZmlndXJlIHtcXHJcXG4gICAgbWF4LXdpZHRoOiAxMDAlO1xcclxcbn1cXHJcXG4uYWZmLWltYWdlLWZpZ3VyZSBpbWcge1xcclxcbiAgICBtYXgtd2lkdGg6IDEwMCU7XFxyXFxufVxcclxcblwiLCBcIlwiXSk7XG4vLyBFeHBvcnRzXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHM7XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuLypcbiAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodXNlU291cmNlTWFwKSB7XG4gIHZhciBsaXN0ID0gW107IC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblxuICBsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB2YXIgY29udGVudCA9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKTtcblxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgcmV0dXJuIFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpLmNvbmNhdChjb250ZW50LCBcIn1cIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0pLmpvaW4oJycpO1xuICB9OyAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuXG5cbiAgbGlzdC5pID0gZnVuY3Rpb24gKG1vZHVsZXMsIG1lZGlhUXVlcnksIGRlZHVwZSkge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgbW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgJyddXTtcbiAgICB9XG5cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXG4gICAgaWYgKGRlZHVwZSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZ1xuICAgICAgICB2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IG1vZHVsZXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19pXSk7XG5cbiAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udGludWVcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChtZWRpYVF1ZXJ5KSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMl0gPSBcIlwiLmNvbmNhdChtZWRpYVF1ZXJ5LCBcIiBhbmQgXCIpLmNvbmNhdChpdGVtWzJdKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBsaXN0O1xufTtcblxuZnVuY3Rpb24gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdIHx8ICcnOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWRlc3RydWN0dXJpbmdcblxuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG5cbiAgaWYgKCFjc3NNYXBwaW5nKSB7XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG4gIH1cblxuICBpZiAodXNlU291cmNlTWFwICYmIHR5cGVvZiBidG9hID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdmFyIHNvdXJjZU1hcHBpbmcgPSB0b0NvbW1lbnQoY3NzTWFwcGluZyk7XG4gICAgdmFyIHNvdXJjZVVSTHMgPSBjc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgIHJldHVybiBcIi8qIyBzb3VyY2VVUkw9XCIuY29uY2F0KGNzc01hcHBpbmcuc291cmNlUm9vdCB8fCAnJykuY29uY2F0KHNvdXJjZSwgXCIgKi9cIik7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbignXFxuJyk7XG4gIH1cblxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oJ1xcbicpO1xufSAvLyBBZGFwdGVkIGZyb20gY29udmVydC1zb3VyY2UtbWFwIChNSVQpXG5cblxuZnVuY3Rpb24gdG9Db21tZW50KHNvdXJjZU1hcCkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSk7XG4gIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgcmV0dXJuIFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbn0iXSwic291cmNlUm9vdCI6IiJ9